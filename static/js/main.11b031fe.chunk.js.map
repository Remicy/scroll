{"version":3,"sources":["Course.module.css","Course.js","prac.js","index.js"],"names":["module","exports","course","cover","info","title","Course","_this$props","this","props","subtitle","teachers","react_default","a","createElement","className","style","backgroundImage","concat","username","Component","prac","state","courses","next","loading","onScroll","_this$state","_this","window","scrollY","innerHeight","document","body","scrollHeight","fetchData","url","setState","fetch","then","rs","json","data","Object","toConsumableArray","paginate","next_page_url","addEventListener","removeEventListener","map","Course_Course","assign","key","id","ReactDOM","render","prac_prac","getElementById"],"mappings":"2EACAA,EAAAC,QAAA,CAAkBC,OAAA,uBAAAC,MAAA,sBAAAC,KAAA,qBAAAC,MAAA,iMCEGC,mLACV,IAAAC,EACsCC,KAAKC,MAA1CJ,EADDE,EACCF,MAAiBF,GADlBI,EACQG,SADRH,EACkBJ,OAAOQ,EADzBJ,EACyBI,SAChC,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMd,QACpBU,EAAAC,EAAAC,cAAA,OACEC,UAAWC,IAAMb,MACjBa,MAAO,CACLC,gBAAe,QAAAC,OAAUf,EAAV,SAGnBS,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMZ,MACnB,IACDQ,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAMX,OAAQA,GAC7BO,EAAAC,EAAAC,cAAA,aAAQH,EAAS,GAAGQ,mBAdMC,aCGfC,6MACnBC,MAAQ,CACNC,QAAS,GACTC,KAAM,KACNC,SAAS,KASXC,SAAW,WAAM,IAAAC,EACWC,EAAKN,MAAvBE,EADOG,EACPH,KADOG,EACDF,SAETD,GAEHK,OAAOC,QAAUD,OAAOE,aACxBC,SAASC,KAAKC,aAAe,KAE7BN,EAAKO,UAAUX,MAGnBW,UAAY,SAAAC,GACVR,EAAKS,SAAS,CACZZ,SAAS,IAEXa,MAAMF,GACHG,KAAK,SAAAC,GAAE,OAAIA,EAAGC,SACdF,KAAK,SAAAG,GACJd,EAAKS,SAAS,CACZd,QAAO,GAAAL,OAAAyB,OAAAC,EAAA,EAAAD,CAAMf,EAAKN,MAAMC,SAAjBoB,OAAAC,EAAA,EAAAD,CAA6BD,EAAKnB,UACzCC,KAAMkB,EAAKG,SAASC,cACpBrB,SAAS,0FA3BfjB,KAAK2B,UATP,gGAUEN,OAAOkB,iBAAiB,SAAUvC,KAAKkB,yDAGvCG,OAAOmB,oBAAoB,SAAUxC,KAAKkB,2CA2BnC,IACCH,EAAYf,KAAKc,MAAjBC,QAER,OACEX,EAAAC,EAAAC,cAAA,WACGS,EAAQ0B,IAAI,SAAA/C,GAAM,OACjBU,EAAAC,EAAAC,cAACoC,EAADP,OAAAQ,OAAA,CAAQC,IAAKlD,EAAOmD,IAAQnD,cA5CJkB,aCFlCkC,IAASC,OAAO3C,EAAAC,EAAAC,cAAC0C,EAAD,MAAUxB,SAASyB,eAAe","file":"static/js/main.11b031fe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"course\":\"Course_course__1XZd7\",\"cover\":\"Course_cover__1tmH3\",\"info\":\"Course_info__q3zsN\",\"title\":\"Course_title__3fQTK\"};","import React, { Component } from \"react\";\r\nimport style from \"./Course.module.css\";\r\n\r\nexport default class Course extends Component {\r\n  render() {\r\n    const { title, subtitle, cover, teachers } = this.props;\r\n    return (\r\n      <div className={style.course}>\r\n        <div\r\n          className={style.cover}\r\n          style={{\r\n            backgroundImage: `url('${cover}')`\r\n          }}\r\n        />\r\n        <div className={style.info}>\r\n          {\" \"}\r\n          <h6 className={style.title}>{title}</h6>\r\n          <label>{teachers[0].username}</label>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Course from \"./Course\";\r\n\r\nconst api =\r\n  \"https://hiskio.com/api/v1/courses/professions?type=all&level=all&sort=latest&profession_id=1\";\r\n\r\nexport default class prac extends Component {\r\n  state = {\r\n    courses: [],\r\n    next: null,\r\n    loading: true\r\n  };\r\n  componentDidMount() {\r\n    this.fetchData(api);\r\n    window.addEventListener(\"scroll\", this.onScroll);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.onScroll);\r\n  }\r\n  onScroll = () => {\r\n    const { next, loading } = this.state;\r\n    if (loading) return;\r\n    if (!next) return;\r\n    if (\r\n      window.scrollY + window.innerHeight >=\r\n      document.body.scrollHeight - 100\r\n    ) {\r\n      this.fetchData(next);\r\n    }\r\n  };\r\n  fetchData = url => {\r\n    this.setState({\r\n      loading: true\r\n    });\r\n    fetch(url)\r\n      .then(rs => rs.json())\r\n      .then(data => {\r\n        this.setState({\r\n          courses: [...this.state.courses, ...data.courses],\r\n          next: data.paginate.next_page_url,\r\n          loading: false\r\n        });\r\n      });\r\n  };\r\n  render() {\r\n    const { courses } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        {courses.map(course => (\r\n          <Course key={course.id} {...course} />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Prac from \"./prac\";\r\n\r\nReactDOM.render(<Prac />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}